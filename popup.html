<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Pengingat Waktu Salat</title>
    <style>
      :root { color-scheme: dark; }
      body { margin: 0; font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background: #0b1220; color: #e6ecff; width: 340px; }
      .wrap { padding: 14px 14px 16px; }
      .header { display: flex; justify-content: space-between; align-items: center; font-weight: 700; }
      .subtle { opacity: .8; font-size: 12px; }
      .card { background: #0f1830; border: 1px solid #1c2744; border-radius: 14px; padding: 12px; margin-top: 10px; }
      .row { display: flex; justify-content: space-between; align-items: center; padding: 6px 0; }
      .row + .row { border-top: 1px dashed #233055; }
      .btn { border: 0; border-radius: 10px; padding: 10px 12px; background: #1b64d1; color: white; font-weight: 600; cursor: pointer; }
      .btn.secondary { background: #22315a; }
      .btn:disabled { opacity: .6; cursor: default; }
      .muted { font-size: 12px; opacity: .85; }
      .title { font-size: 16px; font-weight: 700; }
      .pill { background:#0b74da; color:#fff; border-radius:999px; padding:2px 8px; font-size:12px; font-weight:700; }
      input, select { width: 100%; padding: 10px 12px; border-radius: 10px; border: 1px solid #233055; background: #0f1830; color: #e6ecff; box-sizing: border-box; }
      label { font-size: 12px; opacity: .8; margin-bottom: 4px; display: block; }
      .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; }
      .footer { display:flex; gap:8px; margin-top:10px; flex-wrap: wrap; }
      /* Autocomplete */
      .ac-wrap { position: relative; }
      .ac-list { position: absolute; top: 100%; left: 0; right: 0; background: #0f1830; border: 1px solid #233055; border-radius: 10px; max-height: 180px; overflow: auto; z-index: 5; display: none; }
      .ac-item { padding: 8px 10px; cursor: pointer; }
      .ac-item:hover { background: #1a2542; }
      .ac-list.show { display: block; }
    </style>
  </head>
  <body>
    <div class="wrap">
      <div class="header">
        <div>Pengingat Waktu Salat</div>
        <div class="subtle" id="today"></div>
      </div>

      <div class="card">
        <div class="row" style="align-items:flex-start;">
          <div>
            <div class="muted">Salat berikutnya</div>
            <div class="title" id="nextName">—</div>
            <div class="muted" id="nextTime">—</div>
          </div>
          <div class="pill" id="countdown">--:--:--</div>
        </div>
      </div>

      <div class="card">
        <div class="row"><div>Imsak</div><div id="tImsak">--:--</div></div>
        <div class="row"><div>Subuh</div><div id="tFajr">--:--</div></div>
        <div class="row"><div>Terbit</div><div id="tSunrise">--:--</div></div>
        <div class="row"><div>Dhuha</div><div id="tDhuha">--:--</div></div>
        <div class="row"><div>Dzuhur</div><div id="tDhuhr">--:--</div></div>
        <div class="row"><div>Ashar</div><div id="tAsr">--:--</div></div>
        <div class="row"><div>Maghrib</div><div id="tMaghrib">--:--</div></div>
        <div class="row"><div>Isya</div><div id="tIsha">--:--</div></div>
      </div>

      <div class="card">
        <div class="grid">
          <div class="ac-wrap">
            <label>Kota</label>
            <input id="city" placeholder="Contoh: Malang" autocomplete="off"/>
            <div class="ac-list" id="cityList"></div>
          </div>
          <div>
            <label>Negara</label>
            <input id="country" placeholder="Contoh: Indonesia" />
          </div>
        </div>
        <div class="grid" style="margin-top:12px;">
          <div>
            <label>Metode</label>
            <select id="method">
              <option value="20">Moonsighting (Default)</option>
              <option value="2">Karachi</option>
              <option value="3">ISNA</option>
              <option value="5">Egypt</option>
              <option value="13">Umm Al-Qura</option>
              <option value="15">Gulf</option>
              <option value="1">MWL</option>
            </select>
          </div>
          <div>
            <label>Madzhab (Asr)</label>
            <select id="school">
              <option value="0">Shafi</option>
              <option value="1">Hanafi</option>
            </select>
          </div>
        </div>
        <div class="footer">
          <button class="btn" id="btnGeo">Ambil Lokasi</button>
          <button class="btn" id="btnSave">Simpan</button>
        </div>
        <div class="muted" id="locInfo" style="margin-top:6px;">Lokasi: —</div>
        <div style="margin-top: 12px; text-align: center; font-size: 11px; opacity: 0.7;">
          <span>© 2025 </span>
          <a href="https://github.com/latiefahmad/sholat-reminder" target="_blank" style="color: #1b64d1; text-decoration: none;">latiefahmad</a>
        </div>
      </div>
    </div>

    <script src="popup.js"></script>
  </body>
</html>
